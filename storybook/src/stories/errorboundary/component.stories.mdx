import { Meta, ArgsTable,Description } from '@storybook/addon-docs';
import { ChangeLog, PackageInfo, StoryExample } from '../../components';
import { ErrorBoundary } from '@equinor/fusion-react-errorboundary/legacy';

<Meta title="Data/ErrorBoundary" />

<PackageInfo pkg={require('@equinor/fusion-react-errorboundary/package.json')} />

<Description markdown={require('@equinor/fusion-react-errorboundary/README.md')} />

<ArgsTable of={ErrorBoundary} />

<StoryExample storyId="examples-errorboundary--primary" showSource/>

## Custom render

```tsx
import {
  createFallbackRender,
  ErrorBoundary,
} from '@equinor/fusion-react-errorboundary/legacy';

const Component = () => {
  const fallbackRender = useMemo(createFallbackRender({
    action: 'custom action',
    title: 'custom error',
    errorType: 'accessDenied',
  }), []);
  return (
    <ErrorBoundary fallbackRender={fallbackRender}>
      <ErrorComponent />
    </ErrorBoundary>
  )
}
```

# Changelog

<ChangeLog changelogs={{
  react: require('@equinor/fusion-react-errorboundary/CHANGELOG.md'),
}}/>
