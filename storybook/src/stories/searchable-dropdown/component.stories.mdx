import { Meta, Story, Canvas, ArgsTable, Description } from '@storybook/addon-docs';
import { ChangeLog, PackageInfo, StoryExample } from '../../components';
import SearchableDropdown from '@equinor/fusion-react-searchable-dropdown';
import { _handleAction, _exampleResolver } from './component.helpers';

<Meta
  title="Data/Searchable-Dropdown"
  component={SearchableDropdown}
/>

export const Template = ({ children, ...props }) => {
  return (
    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', height: '250px' }}>
      <SearchableDropdown {...props}>{children}</SearchableDropdown>
    </div>
  );
};

<PackageInfo pkg={require('@equinor/fusion-react-searchable-dropdown/package.json')} />

## Component

<Canvas withSource="closed">
  <Story name="Component" args={
    {
      label: 'SearchableDropdown',
      placeholder: 'Your search term..',
      initialText: 'Type to search...',
      onAction: _handleAction,
      resolver:  _exampleResolver
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Args

<ArgsTable story="Component" />

## Composition

SearchableDropdown consist of to components and a hook to attach a resolver to the controller.

The components are ``Dropdown`` and ``DropdownProvider``, And the hook ``useDropdownProviderRef``.

Se [Examples](?path=/docs/examples-searchable-dropdown--seperated-components) for usage.

## Changelog

<ChangeLog changelogs={{
  react: require('@equinor/fusion-react-searchable-dropdown/CHANGELOG.md'), 
  webComponent: require('@equinor/fusion-wc-searchable-dropdown/CHANGELOG.md')
}}/>
