(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1212:function(module,exports,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(5),__webpack_require__(55),__webpack_require__(1213),__webpack_require__(45),__webpack_require__(46),__webpack_require__(1214),__webpack_require__(38),__webpack_require__(47);var _clientApi=__webpack_require__(63),_clientLogger=__webpack_require__(41),_configFilename=__webpack_require__(1215);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1215:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var parameters={actions:{argTypesRegex:"^on[A-Z].*"}}},1216:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(396).configure)([__webpack_require__(1217),__webpack_require__(1227)],module,!1)}).call(this,__webpack_require__(111)(module))},1217:function(module,exports,__webpack_require__){var map={"./hanging-garden/demo/hanging-garden.stories.mdx":1231,"./introduction.stories.mdx":1225,"./table/tables.stories.mdx":1226};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1217},1225:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(4),__webpack_require__(11),__webpack_require__(23),__webpack_require__(5),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(65);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.Meta,{title:"Example/Introduction",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h1",{id:"fusion-react-components"},"Fusion React Components"))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Example/Introduction",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1226:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(4),__webpack_require__(11),__webpack_require__(23),__webpack_require__(5),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(65);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.Meta,{title:"Table/intro",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h1",{id:"fusion-react-table"},"Fusion React Table"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"@TODO"))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Table/intro",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1227:function(module,exports,__webpack_require__){var map={"./table/table.stories.tsx":1233};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1227},1231:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Garden",(function(){return hanging_garden_stories_Garden})),__webpack_require__.d(__webpack_exports__,"hangingGarden",(function(){return hangingGarden}));__webpack_require__(4),__webpack_require__(11),__webpack_require__(23),__webpack_require__(5);var react=__webpack_require__(0),esm=__webpack_require__(1),blocks=__webpack_require__(65);__webpack_require__(26),__webpack_require__(20),__webpack_require__(9),__webpack_require__(78),__webpack_require__(8),__webpack_require__(16),__webpack_require__(19),__webpack_require__(14),__webpack_require__(13),__webpack_require__(17),__webpack_require__(10),__webpack_require__(6),__webpack_require__(28),__webpack_require__(94),__webpack_require__(1218),__webpack_require__(166),__webpack_require__(482);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},formatDistance=__webpack_require__(1250);function useHangingGardenData_slicedToArray(arr,i){return function useHangingGardenData_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useHangingGardenData_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useHangingGardenData_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useHangingGardenData_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useHangingGardenData_arrayLikeToArray(o,minLen)}(arr,i)||function useHangingGardenData_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useHangingGardenData_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useHangingGardenData_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},useHangingGardenData_useHangingGardenData=function useHangingGardenData(getDataAsync,applyToFetchedData,searchableValues){var _useHangingGardenGetD=function useHangingGardenGetData(getDataAsync){var _useState2=_slicedToArray(Object(react.useState)(null),2),error=_useState2[0],setError=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!1),2),isFetching=_useState4[0],setIsFetching=_useState4[1],fetchData=Object(react.useCallback)((function(invalidateCache){return __awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee(){var _a,_b,_c,_d,_e,response,cacheAgeHeader,cacheAge,cacheDurationHeader,cacheDuration;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setIsFetching(!0),_context.prev=1,_context.next=4,getDataAsync(Boolean(invalidateCache));case 4:if(null!==(response=_context.sent)){_context.next=9;break}return setError({errorType:"noData"}),setIsFetching(!1),_context.abrupt("return",null);case 9:if(202!==response.status){_context.next=13;break}return setError({errorType:"noCache"}),setIsFetching(!1),_context.abrupt("return",null);case 13:if(200!==response.status||response.data.length){_context.next=17;break}return setError({errorType:"noData"}),setIsFetching(!1),_context.abrupt("return",null);case 17:return cacheAgeHeader=null===(_a=null==response?void 0:response.headers)||void 0===_a?void 0:_a.get("x-pp-cache-age"),cacheAge=null==cacheAgeHeader||"live"===cacheAgeHeader?new Date:new Date(cacheAgeHeader),cacheDurationHeader=null===(_b=null==response?void 0:response.headers)||void 0===_b?void 0:_b.get("x-pp-cache-duration-minutes"),cacheDuration=parseInt(cacheDurationHeader||"30",10),setIsFetching(!1),_context.abrupt("return",{data:response.data,cacheAge:cacheAge,cacheDurationInMinutes:cacheDuration});case 25:return _context.prev=25,_context.t0=_context.catch(1),setError({errorType:(null===(_d=null===(_c=null===_context.t0||void 0===_context.t0?void 0:_context.t0.response)||void 0===_c?void 0:_c.error)||void 0===_d?void 0:_d.code)||"error",errorResponse:(null===(_e=null===_context.t0||void 0===_context.t0?void 0:_context.t0.response)||void 0===_e?void 0:_e.error)||null}),setIsFetching(!1),_context.abrupt("return",null);case 30:case"end":return _context.stop()}}),_callee,null,[[1,25]])})))}),[getDataAsync]);return{getData:Object(react.useCallback)((function(invalidateCache){return setError(null),setIsFetching(!1),fetchData(invalidateCache)}),[fetchData]),error:error,isFetching:isFetching}}(getDataAsync),isFetching=_useHangingGardenGetD.isFetching,error=_useHangingGardenGetD.error,getData=_useHangingGardenGetD.getData,_useState2=useHangingGardenData_slicedToArray(Object(react.useState)([]),2),data=_useState2[0],setData=_useState2[1],_useState4=useHangingGardenData_slicedToArray(Object(react.useState)(new Date),2),cacheAgeDate=_useState4[0],setCacheAgeDate=_useState4[1],_useState6=useHangingGardenData_slicedToArray(Object(react.useState)(30),2),cacheDuration=_useState6[0],setCacheDuration=_useState6[1],_useState8=useHangingGardenData_slicedToArray(Object(react.useState)(""),2),cacheAge=_useState8[0],setCacheAge=_useState8[1],_useState10=useHangingGardenData_slicedToArray(Object(react.useState)(!0),2),cacheIsInvalid=_useState10[0],setCacheIsInvalid=_useState10[1],cacheCheckTimerRef=Object(react.useRef)(),checkCacheValidity=Object(react.useCallback)((function(){setCacheAge(Object(formatDistance.a)(cacheAgeDate,new Date));var isInvalid=new Date(cacheAgeDate).setMinutes(cacheAgeDate.getMinutes()+cacheDuration)<Date.now();setCacheIsInvalid(isInvalid),cacheCheckTimerRef.current=setTimeout(checkCacheValidity,6e4)}),[cacheAgeDate,cacheDuration]);Object(react.useEffect)((function(){return cacheCheckTimerRef.current&&clearTimeout(cacheCheckTimerRef.current),checkCacheValidity(),function(){return cacheCheckTimerRef.current&&clearTimeout(cacheCheckTimerRef.current)}}),[checkCacheValidity]);var formatData=Object(react.useCallback)((function(data){var formattedData=applyToFetchedData?applyToFetchedData(data):data;return searchableValues?formattedData.map(searchableValues):formattedData}),[searchableValues,applyToFetchedData]),fetch=Object(react.useCallback)((function(invalidateCache){return useHangingGardenData_awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee(){var result;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,getData(invalidateCache);case 2:result=_context.sent,setData(formatData((null==result?void 0:result.data)||[])),setCacheAgeDate((null==result?void 0:result.cacheAge)||new Date),setCacheDuration((null==result?void 0:result.cacheDurationInMinutes)||30);case 6:case"end":return _context.stop()}}),_callee)})))}),[isFetching,error,getData,formatData]);return Object(react.useEffect)((function(){setData([]),fetch(!1)}),[getData]),{data:data,error:error,isFetching:isFetching,retry:Object(react.useCallback)((function(){setData([]),fetch(!0)}),[fetch]),invalidate:Object(react.useCallback)((function(){fetch(!0)}),[fetch]),cacheIsInvalid:cacheIsInvalid,cacheAge:cacheAge}};__webpack_require__(79),__webpack_require__(87);function useHangingGardenErrorMessage_slicedToArray(arr,i){return function useHangingGardenErrorMessage_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useHangingGardenErrorMessage_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useHangingGardenErrorMessage_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useHangingGardenErrorMessage_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useHangingGardenErrorMessage_arrayLikeToArray(o,minLen)}(arr,i)||function useHangingGardenErrorMessage_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useHangingGardenErrorMessage_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var jsx_runtime=__webpack_require__(22),pixi_legacy_es=__webpack_require__(29),renderHooks_useTextureCaches=function useTextureCaches(){var textureCaches=Object(react.useRef)({headers:{},items:{},chars:{},graphics:{},descriptions:{},masks:{},texts:{},rects:{}});return{clearTextureCaches:Object(react.useCallback)((function(){var newState={headers:{},items:{},chars:{},graphics:{},descriptions:{},masks:{},texts:{},rects:{}};textureCaches.current=Object.assign(Object.assign({},newState),{items:textureCaches.current.items,graphics:textureCaches.current.graphics,texts:textureCaches.current.texts})}),[textureCaches]),clearItemTextureCaches:Object(react.useCallback)((function(){textureCaches.current=Object.assign(Object.assign({},textureCaches.current),{items:{},graphics:{},texts:{}})}),[textureCaches]),addTextureToCache:Object(react.useCallback)((function(cacheKey,key,texture){textureCaches.current[cacheKey][key]=texture}),[textureCaches]),getTextureFromCache:Object(react.useCallback)((function(cacheKey,key){return textureCaches.current[cacheKey][key]}),[textureCaches])}};__webpack_require__(69),__webpack_require__(55),__webpack_require__(112);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return utils_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function utils_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return utils_arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function utils_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DEFAULT_ITEM_TEXT_STYLE=new pixi_legacy_es.TextStyle({fontFamily:"Equinor",fill:"White",fontSize:13,align:"center"}),getExpandedWith=function getExpandedWith(width,c){return width+(c.maxWidth+16)},getColumnX=function getColumnX(index,currentExpandedColumns,defaultWidth){var expandedWidthBeforeIndex=Object.values(currentExpandedColumns).filter((function(c){return c.index<index&&c.isExpanded})).reduce(getExpandedWith,0);return index*defaultWidth+expandedWidthBeforeIndex},isHeaderExpanded=function isHeaderExpanded(columnKey,expandedColumns){var _a;return null===(_a=expandedColumns&&expandedColumns[columnKey])||void 0===_a?void 0:_a.isExpanded},getHeaderWidth=function getHeaderWidth(columnKey,expandedColumns,defaultWidth){return isHeaderExpanded(columnKey,expandedColumns)?defaultWidth+expandedColumns[columnKey].maxWidth+16:defaultWidth},getCalculatedHeight=function getCalculatedHeight(headerHeight,itemHeight,maxRowCount){return maxRowCount?headerHeight+itemHeight*maxRowCount:0},getCalculatedWidth=function getCalculatedWidth(currentExpandedColumns,columnsLength,itemWidth){return columnsLength*itemWidth+Object.values(currentExpandedColumns).filter((function(c){return c.isExpanded})).reduce(getExpandedWith,0)},HangingGardenContext=Object(react.createContext)({}),useHangingGardenContext_useHangingGardenContext=function useHangingGardenContext(){return Object(react.useContext)(HangingGardenContext)},renderHooks_useHangingGardenContext=HangingGardenContext,renderHooks_useTextNode=(__webpack_require__(70),__webpack_require__(30),__webpack_require__(45),__webpack_require__(46),function useTextNode(){var _useHangingGardenCont=useHangingGardenContext_useHangingGardenContext(),pixiApp=_useHangingGardenCont.pixiApp,stage=_useHangingGardenCont.stage,_useHangingGardenCont2=_useHangingGardenCont.textureCaches,getTextureFromCache=_useHangingGardenCont2.getTextureFromCache,addTextureToCache=_useHangingGardenCont2.addTextureToCache,getCharTexture=Object(react.useCallback)((function(_char){var texture=getTextureFromCache("chars",_char);if(!texture){var text=new pixi_legacy_es.Text(_char,DEFAULT_ITEM_TEXT_STYLE);stage.current.addChild(text),text.x=-text.width,text.y=-text.height,texture=text.texture,addTextureToCache("chars",_char,texture)}return texture}),[getTextureFromCache,addTextureToCache,stage.current]);return{createTextNode:Object(react.useCallback)((function(text,color){var _a,cachedText=getTextureFromCache("texts",text+color);if(!cachedText){var chars=text.split(""),textContainer=new pixi_legacy_es.Container;textContainer.cacheAsBitmap=!0;var x=0;chars.forEach((function(_char2){var textSprite=new pixi_legacy_es.Sprite(getCharTexture(_char2));textSprite.x=x,textSprite.y=0,textSprite.tint=color,textContainer.addChild(textSprite),x+=textSprite.width})),cachedText=pixi_legacy_es.RenderTexture.create({width:textContainer.width,height:textContainer.height});var cachedParent=textContainer.enableTempParent();null===(_a=pixiApp.current)||void 0===_a||_a.renderer.render(textContainer,cachedText),textContainer.disableTempParent(cachedParent),addTextureToCache("texts",text+color,cachedText)}return new pixi_legacy_es.Sprite(cachedText)}),[addTextureToCache,getTextureFromCache,pixiApp.current])}}),useRenderQueue_awaiter=(__webpack_require__(484),function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}),renderHooks_useRenderQueue=function useRenderQueue(){var _useHangingGardenCont=useHangingGardenContext_useHangingGardenContext(),pixiApp=_useHangingGardenCont.pixiApp,_useHangingGardenCont2=_useHangingGardenCont.textureCaches,getTextureFromCache=_useHangingGardenCont2.getTextureFromCache,addTextureToCache=_useHangingGardenCont2.addTextureToCache,renderQueue=react.useRef([]),isRendering=react.useRef(!1),processRenderQueueAnimationFrame=react.useRef(0),enqueueRenderer=react.useCallback((function(key,render,context){renderQueue.current.push({key:key,render:render,context:context}),processRenderQueue()}),[renderQueue.current]),processRenderQueue=react.useCallback((function(){return useRenderQueue_awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee(){var renderers;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!isRendering.current&&renderQueue.current.length){_context.next=2;break}return _context.abrupt("return");case 2:50,renderers=renderQueue.current.splice(0,50),isRendering.current=!0,Promise.all(renderers.map(processRenderer)).then((function(){var _a;renderQueue.current.length||null===(_a=pixiApp.current)||void 0===_a||_a.render(),isRendering.current=!1,window.requestAnimationFrame(processRenderQueue)}));case 6:case"end":return _context.stop()}}),_callee)})))}),[isRendering,pixiApp,renderQueue]),processRenderer=react.useCallback((function(renderer){return useRenderQueue_awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee2(){var _a,graphicsContainer,graphics;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:(graphicsContainer=getTextureFromCache("graphics",renderer.key))||((graphics=new pixi_legacy_es.Graphics).cacheAsBitmap=!1,renderer.render(Object.assign(Object.assign({},renderer.context),{graphics:graphics})),graphicsContainer=pixi_legacy_es.RenderTexture.create({width:renderer.context.width,height:renderer.context.height}),null===(_a=pixiApp.current)||void 0===_a||_a.renderer.render(graphics,graphicsContainer),addTextureToCache("graphics",renderer.key,graphicsContainer)),renderer.context.container.addChild(new pixi_legacy_es.Sprite(graphicsContainer));case 3:case"end":return _context2.stop()}}),_callee2)})))}),[getTextureFromCache,addTextureToCache,pixiApp]);return{enqueueRenderer:enqueueRenderer,processRenderQueue:processRenderQueue,processRenderQueueAnimationFrame:processRenderQueueAnimationFrame}},renderHooks_useItemDescription=function useItemDescription(){var _useHangingGardenCont=useHangingGardenContext_useHangingGardenContext(),stage=_useHangingGardenCont.stage,backgroundColor=_useHangingGardenCont.backgroundColor,columns=_useHangingGardenCont.columns,expandedColumns=_useHangingGardenCont.expandedColumns,headerHeight=_useHangingGardenCont.headerHeight,itemHeight=_useHangingGardenCont.itemHeight,itemWidth=_useHangingGardenCont.itemWidth,itemKeyProp=_useHangingGardenCont.itemKeyProp,getItemDescription=_useHangingGardenCont.getItemDescription,_useHangingGardenCont2=_useHangingGardenCont.textureCaches,getTextureFromCache=_useHangingGardenCont2.getTextureFromCache,addTextureToCache=_useHangingGardenCont2.addTextureToCache,createTextNode=renderHooks_useTextNode().createTextNode,getRenderedItemDescription=Object(react.useCallback)((function(item){var itemDescription=getTextureFromCache("descriptions",item[itemKeyProp]);if(!itemDescription){var description=getItemDescription(item),textNode=createTextNode(description,2373446);itemDescription=function createRenderedItemDescription(backgroundColor,textNode){var itemDescription=new pixi_legacy_es.Container;itemDescription.cacheAsBitmap=!0;var graphics=new pixi_legacy_es.Graphics;return graphics.beginFill(backgroundColor),graphics.drawRect(0,0,textNode.width,textNode.height),itemDescription.addChild(graphics),itemDescription.addChild(textNode),itemDescription}(backgroundColor,textNode),addTextureToCache("descriptions",item[itemKeyProp],itemDescription)}return itemDescription}),[backgroundColor,getTextureFromCache,addTextureToCache,getItemDescription]);return{renderItemDescription:Object(react.useCallback)((function(item,index,columnIndex){var column=columns[columnIndex],expandedColumn=expandedColumns&&expandedColumns[column.key];if(expandedColumn&&expandedColumn.isExpanded){var pixiContainer=getRenderedItemDescription(item);pixiContainer.y=headerHeight+index*itemHeight+(itemHeight/2-pixiContainer.height/2),pixiContainer.x=getColumnX(columnIndex,expandedColumns,itemWidth)+itemWidth+8,stage.current.removeChild(pixiContainer),stage.current.addChild(pixiContainer)}}),[headerHeight,columns,expandedColumns,getColumnX,itemHeight,itemWidth,getRenderedItemDescription,stage.current]),getRenderedItemDescription:getRenderedItemDescription}},renderHooks_useItem=function useItem(){var _useHangingGardenCont=useHangingGardenContext_useHangingGardenContext(),pixiApp=_useHangingGardenCont.pixiApp,stage=_useHangingGardenCont.stage,expandedColumns=_useHangingGardenCont.expandedColumns,headerHeight=_useHangingGardenCont.headerHeight,itemHeight=_useHangingGardenCont.itemHeight,itemWidth=_useHangingGardenCont.itemWidth,itemKeyProp=_useHangingGardenCont.itemKeyProp,highlightedItem=_useHangingGardenCont.highlightedItem,onItemClick=_useHangingGardenCont.onItemClick,renderItemContext=_useHangingGardenCont.renderItemContext,_useHangingGardenCont2=_useHangingGardenCont.textureCaches,getTextureFromCache=_useHangingGardenCont2.getTextureFromCache,addTextureToCache=_useHangingGardenCont2.addTextureToCache,_addPopover=_useHangingGardenCont.popover.addPopover,createTextNode=renderHooks_useTextNode().createTextNode,_useRenderQueue=renderHooks_useRenderQueue(),enqueueRenderer=_useRenderQueue.enqueueRenderer,processRenderQueue=_useRenderQueue.processRenderQueue,processRenderQueueAnimationFrame=_useRenderQueue.processRenderQueueAnimationFrame,renderItemDescription=renderHooks_useItemDescription().renderItemDescription,_createRect=Object(react.useCallback)((function(position,size,color){var _a,x=position.x,y=position.y,width=size.width,height=size.height,key=""+color+x+y+width+height,cachedRect=getTextureFromCache("rects",key);if(!cachedRect){var graphics=new pixi_legacy_es.Graphics;graphics.beginFill(color),graphics.drawRoundedRect(x,y,width-2,height-2,4),graphics.endFill(),cachedRect=pixi_legacy_es.RenderTexture.create({width:width,height:height}),null===(_a=pixiApp.current)||void 0===_a||_a.renderer.render(graphics,cachedRect),addTextureToCache("rects",key,cachedRect)}return new pixi_legacy_es.Sprite(cachedRect)}),[pixiApp,getTextureFromCache,addTextureToCache]),clickRef=Object(react.useRef)();return{renderItem:Object(react.useCallback)((function(item,index,columnIndex){var x=getColumnX(columnIndex,expandedColumns,itemWidth),y=headerHeight+index*itemHeight,renderedItem=getTextureFromCache("items",item[itemKeyProp]);if(!renderedItem){(renderedItem=new pixi_legacy_es.Container).x=x,renderedItem.y=y,renderedItem.width=itemWidth,renderedItem.height=itemHeight,renderedItem.buttonMode=!0,renderedItem.interactive=!0,renderedItem.on("pointerdown",(function(e){clickRef.current=!0,"touch"===e.data.pointerType&&setTimeout((function(){return clickRef.current=!1}),50)})),renderedItem.on("pointerup",(function(){clickRef.current&&onItemClick(item)})),renderedItem.on("click",(function(){return onItemClick(item)}));var graphicsContext=new pixi_legacy_es.Graphics;graphicsContext.cacheAsBitmap=!0,renderedItem.addChild(graphicsContext);var itemRenderContext={container:renderedItem,width:itemWidth,height:itemHeight,graphics:graphicsContext,createTextNode:createTextNode,createRect:function createRect(position,size,color){return graphicsContext.addChild(_createRect(position,size,color))},addDot:function addDot(color,position,borderColor){return enqueueRenderer(""+color+position.x+position.y+borderColor,(function(context){return function addDot(context,color,position){var borderColor=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16777215,circle=new pixi_legacy_es.Circle(position.x,position.y,2);context.graphics.lineStyle(1,borderColor,1,1),context.graphics.beginFill(color),context.graphics.drawShape(circle),context.graphics.endFill(),context.graphics.lineStyle(0)}(context,color,position,borderColor)}),itemRenderContext)},addPopover:function addPopover(hitArea,renderPopover){return _addPopover(renderedItem,hitArea,renderPopover)},enquedRender:function enquedRender(key,render){return enqueueRenderer(key,render,itemRenderContext)}};renderItemContext(item,itemRenderContext),addTextureToCache("items",item[itemKeyProp],renderedItem)}if(highlightedItem&&highlightedItem[itemKeyProp]===item[itemKeyProp]){var renderedHighlightedItem=getTextureFromCache("items","highlighted-item");renderedHighlightedItem||((renderedHighlightedItem=new pixi_legacy_es.Graphics).cacheAsBitmap=!0,renderedHighlightedItem.lineStyle(4,2373446),renderedHighlightedItem.drawRoundedRect(0,0,itemWidth-2,itemHeight-2,4)),renderedHighlightedItem.x=x,renderedHighlightedItem.y=y,stage.current.addChild(renderedHighlightedItem)}renderItemDescription(item,index,columnIndex),renderedItem.x=x,renderedItem.y=y,stage.current.addChild(renderedItem)}),[stage.current,getColumnX,expandedColumns,highlightedItem,headerHeight,itemHeight,itemWidth,createTextNode,enqueueRenderer,getTextureFromCache,addTextureToCache,processRenderQueueAnimationFrame,processRenderQueue,renderItemDescription,onItemClick])}};__webpack_require__(47);function useHeader_toConsumableArray(arr){return function useHeader_arrayWithoutHoles(arr){if(Array.isArray(arr))return useHeader_arrayLikeToArray(arr)}(arr)||function useHeader_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function useHeader_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useHeader_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useHeader_arrayLikeToArray(o,minLen)}(arr)||function useHeader_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useHeader_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var renderHooks_useHeader=function useHeader(){var _useHangingGardenCont=useHangingGardenContext_useHangingGardenContext(),stage=_useHangingGardenCont.stage,expandedColumns=_useHangingGardenCont.expandedColumns,setExpandedColumns=_useHangingGardenCont.setExpandedColumns,columns=_useHangingGardenCont.columns,highlightedColumnKey=_useHangingGardenCont.highlightedColumnKey,itemWidth=_useHangingGardenCont.itemWidth,headerHeight=_useHangingGardenCont.headerHeight,renderHeaderContext=_useHangingGardenCont.renderHeaderContext,scrollTop=_useHangingGardenCont.scroll.scrollTop,_useHangingGardenCont2=_useHangingGardenCont.textureCaches,getTextureFromCache=_useHangingGardenCont2.getTextureFromCache,addTextureToCache=_useHangingGardenCont2.addTextureToCache,getRenderedItemDescription=renderHooks_useItemDescription().getRenderedItemDescription,createTextNode=renderHooks_useTextNode().createTextNode,onHeaderClick=Object(react.useCallback)((function(key,index){var column=columns[index];if(column.data.length)if(expandedColumns&&expandedColumns[key])setExpandedColumns((function(prevColumns){return Object.assign(Object.assign({},prevColumns),_defineProperty({},key,Object.assign(Object.assign({},prevColumns[key]),{isExpanded:!prevColumns[key].isExpanded})))}));else{var renderedDescriptions=column.data.map(getRenderedItemDescription),maxWidth=Math.max.apply(Math,useHeader_toConsumableArray(renderedDescriptions.map((function(description){return description.width}))));setExpandedColumns((function(prevColumns){return Object.assign(Object.assign({},prevColumns),_defineProperty({},key,{isExpanded:!0,maxWidth:maxWidth,index:index}))}))}}),[expandedColumns,columns,setExpandedColumns,getRenderedItemDescription]),getHeaderMask=Object(react.useCallback)((function(index,headerWidth){var key="header-".concat(index),mask=getTextureFromCache("masks",key);if(!mask){var _mask=function createRoundedRectMask(width,height){var mask=new pixi_legacy_es.Graphics;return mask.cacheAsBitmap=!0,mask.beginFill(16724736),mask.drawRoundedRect(1,1,width-2,height-2,4),mask.endFill(),mask}(headerWidth,headerHeight);addTextureToCache("masks",key,_mask)}return mask}),[headerHeight]);return{renderHeader:Object(react.useCallback)((function(key,index){var _a,renderedHeader=getTextureFromCache("headers",key);if(!renderedHeader){var headerWidth=getHeaderWidth(null===(_a=columns[index])||void 0===_a?void 0:_a.key,expandedColumns,itemWidth),isHighlighted=highlightedColumnKey===key,isExpanded=isHeaderExpanded(key,expandedColumns);(renderedHeader=new pixi_legacy_es.Container).buttonMode=!0,renderedHeader.interactive=!0,renderedHeader.on("click",(function(){return onHeaderClick(key,index)})),renderedHeader.on("tap",(function(){return onHeaderClick(key,index)}));var x=getColumnX(index,expandedColumns,itemWidth);renderedHeader.x=x,renderedHeader.y=0,renderedHeader.width=headerWidth,renderedHeader.height=headerHeight;var graphicsContext=new pixi_legacy_es.Graphics;graphicsContext.cacheAsBitmap=!0,renderedHeader.addChild(graphicsContext),graphicsContext.beginFill(isHighlighted?28793:16250871),graphicsContext.drawRoundedRect(0,0,headerWidth-2,headerHeight-2,4),graphicsContext.endFill(),graphicsContext.mask=getHeaderMask(index,headerWidth),renderHeaderContext(key,{container:renderedHeader,width:headerWidth,height:headerHeight,graphics:graphicsContext,createTextNode:createTextNode,isHighlighted:isHighlighted,isExpanded:isExpanded}),addTextureToCache("headers",key,renderedHeader)}renderedHeader.y=scrollTop.current,stage.current.removeChild(renderedHeader),stage.current.addChild(renderedHeader)}),[getTextureFromCache,addTextureToCache,onHeaderClick,highlightedColumnKey,expandedColumns,columns,itemWidth,headerHeight,renderHeaderContext,stage.current,createTextNode,scrollTop.current])}},renderHooks_useColumn=function useColumn(){var _a,_useHangingGardenCont=useHangingGardenContext_useHangingGardenContext(),scrollTop=_useHangingGardenCont.scroll.scrollTop,container=_useHangingGardenCont.container,itemHeight=_useHangingGardenCont.itemHeight,expandedColumns=_useHangingGardenCont.expandedColumns,renderItem=renderHooks_useItem().renderItem,renderHeader=renderHooks_useHeader().renderHeader;return{renderColumn:Object(react.useCallback)((function(column,index){for(var _a,startRow=Math.floor(scrollTop.current/itemHeight),offSetHeigth=(null===(_a=container.current)||void 0===_a?void 0:_a.offsetHeight)||0,endRow=Math.min(column.data.length,Math.ceil((scrollTop.current+offSetHeigth)/itemHeight)),i=startRow;i<endRow;i++){var item=column.data[i];item&&renderItem(item,i,index)}renderHeader(column.key,index)}),[renderItem,renderHeader,expandedColumns,null===(_a=container.current)||void 0===_a?void 0:_a.offsetHeight,scrollTop.current,itemHeight])}},renderHooks_useHightLightedItem=(__webpack_require__(102),__webpack_require__(336),function useHightLightedItem(){var _useHangingGardenCont=useHangingGardenContext_useHangingGardenContext(),columns=_useHangingGardenCont.columns,itemKeyProp=_useHangingGardenCont.itemKeyProp,stage=_useHangingGardenCont.stage,highlightedItem=_useHangingGardenCont.highlightedItem,_useHangingGardenCont2=_useHangingGardenCont.textureCaches,getTextureFromCache=_useHangingGardenCont2.getTextureFromCache,addTextureToCache=_useHangingGardenCont2.addTextureToCache,renderItem=renderHooks_useItem().renderItem;return{renderHighlightedItem:Object(react.useCallback)((function(){if(highlightedItem){var column=columns.find((function(column){return column.data.find((function(item){return item[itemKeyProp]===highlightedItem[itemKeyProp]}))}));column&&renderItem(highlightedItem,column.data.findIndex((function(item){return item[itemKeyProp]===highlightedItem[itemKeyProp]})),columns.indexOf(column))}else{var renderedHighlightedItem=getTextureFromCache("items","highlighted-item");renderedHighlightedItem&&stage.current.removeChild(renderedHighlightedItem)}}),[highlightedItem,getTextureFromCache,addTextureToCache,stage.current,columns])}}),renderHooks_useGarden=function useGarden(){var _a,_useHangingGardenCont=useHangingGardenContext_useHangingGardenContext(),pixiApp=_useHangingGardenCont.pixiApp,stage=_useHangingGardenCont.stage,container=_useHangingGardenCont.container,columns=_useHangingGardenCont.columns,expandedColumns=_useHangingGardenCont.expandedColumns,itemWidth=_useHangingGardenCont.itemWidth,setExpandedColumns=_useHangingGardenCont.setExpandedColumns,setMaxRowCount=_useHangingGardenCont.setMaxRowCount,highlightedColumnKey=_useHangingGardenCont.highlightedColumnKey,highlightedItem=_useHangingGardenCont.highlightedItem,_useHangingGardenCont2=_useHangingGardenCont.scroll,scrollLeft=_useHangingGardenCont2.scrollLeft,scrollTop=_useHangingGardenCont2.scrollTop,scrollToHighlightedColumn=_useHangingGardenCont2.scrollToHighlightedColumn,scrollToHighlightedItem=_useHangingGardenCont2.scrollToHighlightedItem,clearTextureCaches=_useHangingGardenCont.textureCaches.clearTextureCaches,renderColumn=renderHooks_useColumn().renderColumn,renderHighlightedItem=renderHooks_useHightLightedItem().renderHighlightedItem;Object(react.useEffect)((function(){clearTextureCaches(),setExpandedColumns({}),setMaxRowCount(function getMaxRowCount(columns){return Math.max.apply(Math,_toConsumableArray(columns.map((function(column){return column.data.length}))))}(columns)),scrollToHighlightedColumn(columns,highlightedColumnKey,itemWidth),renderGarden()}),[columns]),Object(react.useEffect)((function(){clearTextureCaches(),renderGarden()}),[expandedColumns]),Object(react.useEffect)((function(){scrollToHighlightedItem(columns,highlightedItem,itemWidth)&&(clearTextureCaches(),renderGarden())}),[highlightedItem]);var renderGarden=Object(react.useCallback)((function(){var _a;if(pixiApp.current){var oldStage=stage.current;stage.current=new pixi_legacy_es.Container,stage.current.x=-scrollLeft.current,stage.current.y=-scrollTop.current;for(var offsetWidth=(null===(_a=container.current)||void 0===_a?void 0:_a.offsetWidth)||0,scrollRight=scrollLeft.current+offsetWidth+10,i=0;i<columns.length;i++){var column=columns[i],columnX=getColumnX(i,expandedColumns,itemWidth),width=getHeaderWidth(column.key,expandedColumns,itemWidth);column&&columnX+width>=scrollLeft.current&&columnX<=scrollRight&&renderColumn(column,i)}renderHighlightedItem(),pixiApp.current.stage.addChild(stage.current),oldStage.destroy(),pixiApp.current.stage.removeChild(oldStage),pixiApp.current.render()}}),[null===(_a=container.current)||void 0===_a?void 0:_a.offsetWidth,stage.current,pixiApp.current,scrollLeft.current,scrollTop.current,expandedColumns,columns,renderColumn,getColumnX,getHeaderWidth,renderHighlightedItem]);return{renderGarden:renderGarden}},renderHooks_useRendererSize=function useRendererSize(){var _useHangingGardenCont=useHangingGardenContext_useHangingGardenContext(),pixiApp=_useHangingGardenCont.pixiApp,container=_useHangingGardenCont.container,renderGarden=renderHooks_useGarden().renderGarden,resizeObserverRef=react.useRef(),checkRendererSizeAnimationframe=react.useRef(0),resizeRenderer=react.useCallback((function(containerWidth,containerHeight,pixiApp){if(pixiApp){var _ref=null==pixiApp?void 0:pixiApp.renderer,width=_ref.width,height=_ref.height;width===containerWidth&&height===containerHeight||(pixiApp.renderer.resize(containerWidth,containerHeight),renderGarden())}}),[renderGarden]);react.useEffect((function(){var _a;return renderGarden(),resizeObserverRef.current=new ResizeObserver((function(arr){var _arr$0$contentRect=arr[0].contentRect,width=_arr$0$contentRect.width,height=_arr$0$contentRect.height;window.cancelAnimationFrame(checkRendererSizeAnimationframe.current),checkRendererSizeAnimationframe.current=window.requestAnimationFrame((function(){return resizeRenderer(width,height,pixiApp.current)}))})),null===(_a=null==resizeObserverRef?void 0:resizeObserverRef.current)||void 0===_a||_a.observe(container.current),function(){var _a;return null===(_a=null==resizeObserverRef?void 0:resizeObserverRef.current)||void 0===_a?void 0:_a.unobserve(container.current)}}),[resizeRenderer])},dist=__webpack_require__(33),useStyles=Object(dist.c)((function(){return Object(dist.b)({root:{width:"100%",height:"100%",overflow:"auto",position:"relative"},wrapper:function wrapper(_ref){var _wrapper=_ref.wrapper;return Object.assign({minWidth:"100%",minHeight:"100%"},_wrapper)}})}));var dist_Garden=function Garden_Garden(_ref2){var provideController=_ref2.provideController,_useHangingGardenCont=useHangingGardenContext_useHangingGardenContext(),pixiApp=_useHangingGardenCont.pixiApp,container=_useHangingGardenCont.container,canvas=_useHangingGardenCont.canvas,maxRowCount=_useHangingGardenCont.maxRowCount,expandedColumns=_useHangingGardenCont.expandedColumns,columns=_useHangingGardenCont.columns,itemHeight=_useHangingGardenCont.itemHeight,itemWidth=_useHangingGardenCont.itemWidth,headerHeight=_useHangingGardenCont.headerHeight,_useHangingGardenCont2=_useHangingGardenCont.textureCaches,clearTextureCaches=_useHangingGardenCont2.clearTextureCaches,clearItemTextureCaches=_useHangingGardenCont2.clearItemTextureCaches,onScroll=_useHangingGardenCont.scroll.onScroll,popover=_useHangingGardenCont.popover.popover,renderGarden=renderHooks_useGarden().renderGarden;renderHooks_useRendererSize(),Object(react.useEffect)((function(){pixiApp.current&&provideController&&(provideController.current={clearGarden:function clearGarden(){clearTextureCaches(),clearItemTextureCaches()}})}),[pixiApp.current]);var handleScroll=Object(react.useCallback)((function(e){onScroll(e,renderGarden)}),[renderGarden,onScroll]),style=useStyles({wrapper:{width:getCalculatedWidth(expandedColumns,columns.length,itemWidth),height:getCalculatedHeight(headerHeight,itemHeight,maxRowCount)}});return Object(jsx_runtime.jsxs)("div",Object.assign({ref:container,onScroll:handleScroll,className:style.root},{children:[Object(jsx_runtime.jsx)("div",Object.assign({className:style.wrapper},{children:Object(jsx_runtime.jsx)("canvas",{ref:canvas},void 0)}),void 0),popover]}),void 0)},renderHooks_useScrolling=(__webpack_require__(25),__webpack_require__(489),function useScrolling(canvas,container,itemKeyProp){var isScrolling=Object(react.useRef)(!1),scrollTop=Object(react.useRef)(0),scrollLeft=Object(react.useRef)(0),onScroll=Object(react.useCallback)((function(e,renderGarden){!isScrolling.current&&(null==canvas?void 0:canvas.current)&&(isScrolling.current=!0,scrollLeft.current=e.currentTarget.scrollLeft,scrollTop.current=e.currentTarget.scrollTop,canvas.current.style.transform="translate(".concat(e.currentTarget.scrollLeft,"px, ").concat(e.currentTarget.scrollTop,"px)"),window.requestAnimationFrame((function(){renderGarden(),isScrolling.current=!1})))}),[null==canvas?void 0:canvas.current,null==isScrolling?void 0:isScrolling.current]),scrollTo=Object(react.useCallback)((function(highlightedColumnIndex,itemWidth){return!!(null==container?void 0:container.current)&&(container.current.scrollWidth<=container.current.offsetWidth?(scrollLeft.current=container.current.scrollLeft=0,!1):(scrollLeft.current=highlightedColumnIndex>=0?container.current.scrollLeft=highlightedColumnIndex*itemWidth-container.current.offsetWidth/2+itemWidth/2:0,(null==canvas?void 0:canvas.current)&&(canvas.current.style.transform="translate(".concat(scrollLeft.current,"px, ").concat(scrollTop.current,"px)")),0!==scrollLeft.current))}),[null==container?void 0:container.current]),scrollToHighlightedColumn=Object(react.useCallback)((function(columns,highlightedColumnKey,itemWidth){var highlightedColumnIndex=columns.findIndex((function(column){return column.key===highlightedColumnKey}));return scrollTo(highlightedColumnIndex,itemWidth)}),[scrollTo]),scrollToHighlightedItem=Object(react.useCallback)((function(columns,highlightedItem,itemWidth){if(!highlightedItem)return!1;var highlightedIndex=columns.findIndex((function(column){return column.data.some((function(item){return item[itemKeyProp]===highlightedItem[itemKeyProp]}))}));return scrollTo(highlightedIndex,itemWidth)}),[scrollTo,itemKeyProp]);return{isScrolling:isScrolling,scrollLeft:scrollLeft,scrollTop:scrollTop,onScroll:onScroll,scrollToHighlightedColumn:scrollToHighlightedColumn,scrollToHighlightedItem:scrollToHighlightedItem}}),renderHooks_usePixiApp=function usePixiApp(canvas,container,backgroundColor){pixi_legacy_es.utils.skipHello(),pixi_legacy_es.Ticker.shared.autoStart=!1,pixi_legacy_es.settings.ROUND_PIXELS=!0;var pixiApp=Object(react.useRef)(null);return pixiApp.current=Object(react.useMemo)((function(){var _a,_b;return(null==canvas?void 0:canvas.current)&&(null==container?void 0:container.current)?new pixi_legacy_es.Application({view:canvas.current,width:null===(_a=container.current)||void 0===_a?void 0:_a.offsetWidth,height:null===(_b=container.current)||void 0===_b?void 0:_b.offsetHeight,backgroundColor:backgroundColor,resolution:1,antialias:!0,transparent:!0,sharedTicker:!0}):null}),[null==canvas?void 0:canvas.current,null==container?void 0:container.current,backgroundColor]),pixiApp.current&&(pixiApp.current.renderer.plugins.interaction.autoPreventDefault=!1,pixiApp.current.renderer.view.style.touchAction="auto"),{pixiApp:pixiApp}},Arrow_useStyles=Object(dist.c)((function(){return Object(dist.b)({root:{position:"absolute",width:"12px",height:"8px",left:"50%",bottom:"100%",transform:"translateX(-50%)"}})})),PopoverContainer_Arrow=function Arrow(){var styles=Arrow_useStyles();return Object(jsx_runtime.jsxs)("svg",Object.assign({width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:styles.root},{children:[Object(jsx_runtime.jsx)("path",{d:"M9.79423 7.5L10.7152 7.5L10.2135 6.72765L7.15506 2.0188C6.56361 1.10821 5.23062 1.10821 4.63917 2.0188L1.58069 6.72765L1.07903 7.5L2 7.5L9.79423 7.5Z",fill:"white",stroke:"#E6E6E6"},void 0),Object(jsx_runtime.jsx)("path",{d:"M5.29289 3.70711C5.68342 3.31658 6.31658 3.31658 6.70711 3.70711L11 8L1 8L5.29289 3.70711Z",fill:"white"},void 0)]}),void 0)},PopoverContainer_useStyles=Object(dist.c)((function(){return Object(dist.b)({root:{padding:"16px",backgroundColor:"white",borderRadius:"4px",position:"absolute",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.2), 0px 2px 2px rgba(0, 0, 0, 0.12), 0px 0px 2px rgba(0, 0, 0, 0.14)",transform:"translateX(-50%)",marginTop:"8px"}})})),PopoverContainer=Object(react.forwardRef)((function(_ref,ref){var children=_ref.children,styles=PopoverContainer_useStyles();return Object(jsx_runtime.jsxs)("div",Object.assign({ref:ref,className:styles.root},{children:[Object(jsx_runtime.jsx)(PopoverContainer_Arrow,{},void 0),Object(jsx_runtime.jsx)("div",{children:children},void 0)]}),void 0)}));PopoverContainer.displayName="PopoverContainer",PopoverContainer.__docgenInfo={description:"",methods:[],displayName:"PopoverContainer"};var components_PopoverContainer=PopoverContainer;function usePopover_slicedToArray(arr,i){return function usePopover_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function usePopover_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function usePopover_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return usePopover_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return usePopover_arrayLikeToArray(o,minLen)}(arr,i)||function usePopover_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function usePopover_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/hanging-garden/dist/components/PopoverContainer/index.js"]={name:"PopoverContainer",docgenInfo:PopoverContainer.__docgenInfo,path:"../packages/hanging-garden/dist/components/PopoverContainer/index.js"});var renderHooks_usePopover=function usePopover(delay){var _useState2=usePopover_slicedToArray(Object(react.useState)(null),2),selectedPopover=_useState2[0],setSelectedPopover=_useState2[1],addPopover=Object(react.useCallback)((function(hitContainer,hitArea,renderPopover){var timer,hitAreaContainer=new pixi_legacy_es.Container;hitAreaContainer.interactive=!0,hitAreaContainer.hitArea=hitArea,hitAreaContainer.on("mouseover",(function(){clearTimeout(timer),timer=setTimeout((function(){setSelectedPopover({top:hitContainer.y+hitArea.height,left:hitContainer.x+hitArea.x+hitArea.width/2,render:renderPopover})}),delay||500)})),hitAreaContainer.on("mouseout",(function(){clearTimeout(timer),setSelectedPopover(null)})),hitContainer.addChild(hitAreaContainer)}),[]);return{popover:Object(react.useMemo)((function(){return selectedPopover?Object(jsx_runtime.jsx)("div",Object.assign({style:{position:"absolute",top:selectedPopover.top,left:selectedPopover.left}},{children:Object(jsx_runtime.jsx)(components_PopoverContainer,{children:selectedPopover.render()},void 0)}),void 0):null}),[selectedPopover]),addPopover:addPopover}};function HangingGarden_slicedToArray(arr,i){return function HangingGarden_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function HangingGarden_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function HangingGarden_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return HangingGarden_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HangingGarden_arrayLikeToArray(o,minLen)}(arr,i)||function HangingGarden_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HangingGarden_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var HangingGarden_useStyles=Object(dist.c)((function(){return Object(dist.b)({root:{display:"flex",flex:"1 1 auto",height:"100%",minWidth:0}})}));function HangingGarden(_ref){var columns=_ref.columns,highlightedColumnKey=_ref.highlightedColumnKey,highlightedItem=_ref.highlightedItem,itemKeyProp=_ref.itemKeyProp,_ref$itemHeight=_ref.itemHeight,itemHeight=void 0===_ref$itemHeight?24:_ref$itemHeight,itemWidth=_ref.itemWidth,renderHeaderContext=_ref.renderHeaderContext,renderItemContext=_ref.renderItemContext,getItemDescription=_ref.getItemDescription,onItemClick=_ref.onItemClick,_ref$headerHeight=_ref.headerHeight,headerHeight=void 0===_ref$headerHeight?32:_ref$headerHeight,provideController=_ref.provideController,_ref$backgroundColor=_ref.backgroundColor,backgroundColor=void 0===_ref$backgroundColor?16777215:_ref$backgroundColor,_useState2=HangingGarden_slicedToArray(Object(react.useState)(0),2),maxRowCount=_useState2[0],setMaxRowCount=_useState2[1],_useState4=HangingGarden_slicedToArray(Object(react.useState)({}),2),expandedColumns=_useState4[0],setExpandedColumns=_useState4[1],container=Object(react.useRef)(null),canvas=Object(react.useRef)(null),stage=Object(react.useRef)(new pixi_legacy_es.Container),scroll=renderHooks_useScrolling(canvas,container,itemKeyProp),textureCaches=renderHooks_useTextureCaches(),popover=renderHooks_usePopover(),pixiApp=renderHooks_usePixiApp(canvas,container,backgroundColor).pixiApp;Object(react.useEffect)((function(){textureCaches.clearItemTextureCaches()}),[itemHeight,itemWidth]);var styles=HangingGarden_useStyles();return Object(jsx_runtime.jsx)("div",Object.assign({className:styles.root},{children:columns.length&&Object(jsx_runtime.jsx)(renderHooks_useHangingGardenContext.Provider,Object.assign({value:{container:container,canvas:canvas,stage:stage,pixiApp:pixiApp,scroll:scroll,maxRowCount:maxRowCount,setMaxRowCount:setMaxRowCount,expandedColumns:expandedColumns,setExpandedColumns:setExpandedColumns,textureCaches:textureCaches,backgroundColor:backgroundColor,columns:columns,itemKeyProp:itemKeyProp,itemHeight:itemHeight,itemWidth:itemWidth,headerHeight:headerHeight,highlightedItem:highlightedItem,highlightedColumnKey:highlightedColumnKey,getItemDescription:getItemDescription,onItemClick:onItemClick,renderItemContext:renderItemContext,renderHeaderContext:renderHeaderContext,popover:popover}},{children:Object(jsx_runtime.jsx)(dist_Garden,{provideController:provideController},void 0)}),void 0)}),void 0)}var StateColorMap={new:"#D9EAF2",active:"#BCF316",onhold:"#60F316",verification:"#F0A875",closed:"#0D59F2"},StateOrder={new:1,active:2,onhold:3,verification:4,closed:5},getStateOrder=function getStateOrder(state){return StateOrder[state]},format=(__webpack_require__(281),__webpack_require__(27),__webpack_require__(1249)),columns_getYearAndWeekFromDate=function getYearAndWeekFromDate(date){return Object(format.a)(date,"yyyy/II",{weekStartsOn:1})},createDataSet=function createDataSet(){for(var itemsCount=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,dayDiff=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,states=["new","active","onhold","verification","closed"],items=[],item=0;item<itemsCount;item++){var addDays=Math.floor(Math.random()*(-dayDiff-dayDiff))+dayDiff,date=new Date;date.setDate(date.getDate()+addDays),items.push({id:item.toString(),description:"This is ITEM number ".concat(item),date:date,state:states[Math.floor(5*Math.random())]})}return items},fetchGardenItemsAsync=function fetchGardenItemsAsync(itemsCount,dayDiff){return new Promise((function(resolve){resolve({status:200,data:createDataSet(itemsCount,dayDiff)})}))},project_popover_useStyles=Object(dist.c)((function(){return Object(dist.b)({root:{whiteSpace:"nowrap"}})})),project_popover_ProjectPopover=function ProjectPopover(_ref){var text=_ref.text,styles=project_popover_useStyles();return Object(jsx_runtime.jsx)("div",{className:styles.root,children:text})};project_popover_ProjectPopover.displayName="ProjectPopover";var project_popover=project_popover_ProjectPopover;try{projectpopover.displayName="projectpopover",projectpopover.__docgenInfo={description:"",displayName:"projectpopover",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/hanging-garden/demo/components/project-popover/index.tsx#projectpopover"]={docgenInfo:projectpopover.__docgenInfo,name:"projectpopover",path:"stories/hanging-garden/demo/components/project-popover/index.tsx#projectpopover"})}catch(__react_docgen_typescript_loader_error){}function GardenDemo_slicedToArray(arr,i){return function GardenDemo_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function GardenDemo_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function GardenDemo_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return GardenDemo_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GardenDemo_arrayLikeToArray(o,minLen)}(arr,i)||function GardenDemo_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GardenDemo_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var GardenDemo_useStyles=Object(dist.c)((function(){return Object(dist.b)({root:function root(_ref){return{height:_ref.height,display:"flex",flex:"1 1 auto",minWidth:0}}})})),GardenDemo_GardenDemo=function GardenDemo(_ref2){var rows=_ref2.rows,height=_ref2.height,getData=Object(react.useCallback)(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetchGardenItemsAsync(rows);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}),_callee)}))),[rows]),_useHangingGardenData=useHangingGardenData_useHangingGardenData(getData),data=_useHangingGardenData.data,error=_useHangingGardenData.error,isFetching=_useHangingGardenData.isFetching,errorMessage=function useHangingGardenErrorMessage(resourceName,error,onTakeAction){var _useState2=useHangingGardenErrorMessage_slicedToArray(Object(react.useState)(null),2),errorMessage=_useState2[0],setErrorMessage=_useState2[1],buildErrorMessage=Object(react.useCallback)((function(error){var _a,_b,_c,_d,_e;if(!error)return{hasError:!1};switch(null==error?void 0:error.errorType){case"noData":return{hasError:!0,errorType:"noData",message:"No ".concat(resourceName," packages found for selected project"),resourceName:resourceName,action:"Retry",onTakeAction:onTakeAction};case"noCache":return{hasError:!0,errorType:"noData",title:"Populating ".concat(resourceName," dataset for project on the server"),message:"Please try again in a few minutes.",resourceName:resourceName,action:"Retry",onTakeAction:onTakeAction};case"NoDataAccess":return{hasError:!0,errorType:"accessDenied",title:"It looks like you do not have access to the selected context",message:null===(_a=null==error?void 0:error.errorResponse)||void 0===_a?void 0:_a.message,resourceName:resourceName};case"UnexpectedError":if(null===(_b=null==error?void 0:error.errorResponse)||void 0===_b?void 0:_b.message.includes("Unable to resolve context"))return{hasError:!0,errorType:"noData",title:"Unable to find any related projects to selected context. ",message:null===(_c=null==error?void 0:error.errorResponse)||void 0===_c?void 0:_c.message};break;default:return{hasError:!0,errorType:"error",message:null===(_d=null==error?void 0:error.errorResponse)||void 0===_d?void 0:_d.message,action:"Retry",onTakeAction:onTakeAction}}return{hasError:!0,errorType:"error",message:null===(_e=null==error?void 0:error.errorResponse)||void 0===_e?void 0:_e.message,action:"Retry",onTakeAction:onTakeAction}}),[resourceName,onTakeAction]);return Object(react.useEffect)((function(){setErrorMessage(buildErrorMessage(error))}),[error]),{errorMessage:errorMessage}}("Garden items",error,_useHangingGardenData.retry).errorMessage,_useState2=GardenDemo_slicedToArray(Object(react.useState)(null),2),selectedWorkOrder=_useState2[0],setSelectedWorkOrder=_useState2[1],_useState4=GardenDemo_slicedToArray(Object(react.useState)([]),2),columns=_useState4[0],setColumns=_useState4[1],highlightedKey=columns_getYearAndWeekFromDate(new Date);Object(react.useEffect)((function(){console.log("data",data),setColumns(function getColumns(data){var highlightedKey=columns_getYearAndWeekFromDate(new Date),newColumns=data.reduce((function(columns,item){var key=columns_getYearAndWeekFromDate(item.date),column=columns.findIndex((function(c){return c.key===key}));return column>=0?columns[column].data.push(item):columns.push({key:key,data:[Object.assign({},item)]}),columns}),[]).map((function(column){return Object.assign({},column,{data:column.data.sort((function(a,b){return getStateOrder(a.state)-getStateOrder(b.state)}))})})),highlightedKeyIndex=newColumns.findIndex((function(c){return c.key===highlightedKey}));return highlightedKey&&-1===highlightedKeyIndex&&newColumns.push({key:highlightedKey,data:[]}),newColumns.sort((function(_ref,_ref2){var a=_ref.key,b=_ref2.key;return a.localeCompare(b)}))}(data))}),[data]),Object(react.useEffect)((function(){console.log("errorMessage",errorMessage)}),[errorMessage]);var style=GardenDemo_useStyles({height:height}),gardenController=Object(react.useRef)(null);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[isFetching&&Object(jsx_runtime.jsx)("div",{children:"Loading..."}),!isFetching&&Boolean(data.length)&&Object(jsx_runtime.jsx)("div",{className:style.root,children:Object(jsx_runtime.jsx)(HangingGarden,{columns:columns,highlightedColumnKey:highlightedKey,highlightedItem:selectedWorkOrder,itemKeyProp:"id",itemWidth:function getItemWidth(){var longestKey=Math.max.apply(Math,data.map((function(item){return item.id.length})));return Math.max(8*longestKey+35,102)}(),itemHeight:24,renderItemContext:function renderItem(item,context){context.createRect({x:0,y:0},{width:context.width,height:context.height},function getStateColorHex(state){return pixi_legacy_es.utils.string2hex(StateColorMap[state])}(item.state)),context.enquedRender(item.id,(function(context){var textNode=context.createTextNode(item.id,"closed"===item.state?16777215:2171169);context.graphics.addChild(textNode),textNode.x=20,textNode.y=context.height/2-textNode.height/2})),context.addDot(16777215,{x:context.width-12,y:8}),context.addPopover(new pixi_legacy_es.Rectangle(0,0,context.width/2,context.height),(function(){return Object(jsx_runtime.jsx)(project_popover,{text:"Left hover for item ".concat(item.id)})})),context.addPopover(new pixi_legacy_es.Rectangle(context.width/2,0,context.width/2,context.height),(function(){return Object(jsx_runtime.jsx)(project_popover,{text:"Right hover for item ".concat(item.id)})}))},getItemDescription:function getItemDescription(item){return item.description},onItemClick:function onItemClick(item){return setSelectedWorkOrder(item)},headerHeight:40,renderHeaderContext:function renderHeader(key,context){var textNode=context.createTextNode(context.isExpanded?key+" Expanded"||!1:key||"NA",context.isHighlighted?16777215:2171169);context.container.addChild(textNode),textNode.x=context.width/2-textNode.width/2,textNode.y=textNode.height/2},provideController:gardenController})})]})},demo_GardenDemo=GardenDemo_GardenDemo;try{GardenDemo_GardenDemo.displayName="GardenDemo",GardenDemo_GardenDemo.__docgenInfo={description:"",displayName:"GardenDemo",props:{rows:{defaultValue:null,description:"",name:"rows",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/hanging-garden/demo/GardenDemo.tsx#GardenDemo"]={docgenInfo:GardenDemo_GardenDemo.__docgenInfo,name:"GardenDemo",path:"stories/hanging-garden/demo/GardenDemo.tsx#GardenDemo"})}catch(__react_docgen_typescript_loader_error){}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var hanging_garden_stories_Garden=function Garden(args){return Object(esm.mdx)(demo_GardenDemo,_extends({},args,{mdxType:"GardenDemo"}))};hanging_garden_stories_Garden.displayName="Garden";var layoutProps={Garden:hanging_garden_stories_Garden};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(esm.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.mdx)(blocks.Meta,{title:"Hanging Garden",component:demo_GardenDemo,mdxType:"Meta"}),Object(esm.mdx)("h1",{id:"hanging-garden-component"},"Hanging Garden Component"),Object(esm.mdx)(blocks.Story,{name:"Hanging Garden",args:{rows:5e3,height:500},mdxType:"Story"},hanging_garden_stories_Garden),Object(esm.mdx)("br",null),Object(esm.mdx)("br",null),Object(esm.mdx)("h2",{id:"arguments-implementations"},"Arguments implementations"),Object(esm.mdx)("p",null,"Implementation and use of each argument. What it expects to receive and what its used for.\nAll example code reflects the Garden implementations in this story."),Object(esm.mdx)("h3",{id:"columns"},"columns"),Object(esm.mdx)("p",null,"An array of columns to be shown in the Garden.\nThe array should be filled with an object for each columns.\nFormatted like this: {key : ColumnName, data : Items[]}"),Object(esm.mdx)("p",null,"A key with name of the column. This can be anything you like. Often used as the text on the header.\nData has an array of all the items that follows under each header. Data can be empty."),Object(esm.mdx)("p",null,"You will need to write your own functionality that determines how your columns should be structured.\nIn the example they are split into week/year."),Object(esm.mdx)("p",null,"How to set this up will be explored in the section below."),Object(esm.mdx)("h3",{id:"highlightedcolumnkey"},"highlightedColumnKey"),Object(esm.mdx)("p",null,"Name(key) off a column in the columns object.\nHighlights the column by giving the header a different color.\nThis Garden will also scroll to this column on load."),Object(esm.mdx)("p",null,"HighlightedColumnKey can be null\nNo column wil be shown and garden will not scroll on initial load."),Object(esm.mdx)("h3",{id:"highlighteditem"},"highlightedItem"),Object(esm.mdx)("p",null,"Takes entire object of an item you want to highlight in the garden.\nItem will receive be get a black outline when highlighted.\nThe garden will also center the highlightedItem."),Object(esm.mdx)("p",null,"highlightedItem can be null."),Object(esm.mdx)("h3",{id:"itemkeyprop"},"itemKeyProp"),Object(esm.mdx)("p",null,"A field in your item model that will serve as an identifier for renderedItems.\nThis should preferably be a unique field."),Object(esm.mdx)("p",null,"This filed is mandatory"),Object(esm.mdx)("h3",{id:"itemwidth"},"itemWidth"),Object(esm.mdx)("p",null,"A number of pixels, represents how wide your rendered items should be.\nIt is not possible to have variable columns width or variable widths withing same column."),Object(esm.mdx)("p",null,"You will probably want to calculate this field.\nAs you might not now the length of the text or other objects you show on your rendered items."),Object(esm.mdx)("p",null,"In the example, we show the id for each item.\nTo figure the width we find the longest id.\nthen add some additional pixels to it, and also a minimum length"),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"const getItemWidth = () => {\n  const longestKey = Math.max.apply(\n    Math,\n    data.map((item) => item.id.length)\n  );\n\n  return Math.max(longestKey * 8 + 35, 102);\n};\n")),Object(esm.mdx)("p",null,"This will be a bit of an iterative process at first when creating your items.\nSeeing how big they need to be to fit everything you need."),Object(esm.mdx)("p",null,"Long header text will override this.\nMeaning if there is a header text that is longer longest item. The header length takes precedence."),Object(esm.mdx)("h3",{id:"itemheight"},"itemHeight"),Object(esm.mdx)("p",null,"The height of the rendered item. This follows the same principles as itemWidth.\nAll items in the garden will be same height.\nBut hight can be controlled in same fashion as itemWidth."),Object(esm.mdx)("h3",{id:"headerheight"},"headerHeight"),Object(esm.mdx)("p",null,"The height of the header row at the top of the garden.\nThis follows the same principles as itemWidth.\nAll columns will have a header with the same header height.\nBut hight can be controlled in same fashion as itemWidth."),Object(esm.mdx)("h3",{id:"getitemdescription"},"getItemDescription"),Object(esm.mdx)("p",null,"This is a description of given item, that is shown when Header is expanded."),Object(esm.mdx)("p",null,"All headers has a clickEvent. When clicked the header will expand to the right.\nRevealing an area where the itemDescription is shown."),Object(esm.mdx)("p",null,"The arguments takes in a function that receives the items and returns a string."),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"(item: GardenItem) => item.description;\n")),Object(esm.mdx)("p",null,"You can do more complex thing where if needed, but you are limited to returning a string."),Object(esm.mdx)("h3",{id:"onitemclick"},"onItemClick"),Object(esm.mdx)("p",null,"A void function that receives the items object.\nThis function will fire when a rendered item is clicked."),Object(esm.mdx)("p",null,"in the example this is used to set the selected Item."),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"(item: GardenItem) => setSelectedWorkOrder(item);\n")),Object(esm.mdx)("p",null,"This will then highlighted the item, and scroll to this item in the garden.\nbut this effect gives you a lot of possibilities to trigger other effect or UI elements might want.\nA typical use case is to open a sidesheet with extended information."),Object(esm.mdx)("h3",{id:"providecontroller"},"provideController"),Object(esm.mdx)("p",null,'Takes in a ref that will give you ways to control the garden component.\nAs of now it only has one functions "clearGarden".\nThis will clear all texture caches in the garden, and with that trigger a rerender of the garden.'),Object(esm.mdx)("p",null,"A reason to use this is when you source data changes in a way that would change the rendered items.\nBecause these items are caches they would just use old data.\nyou can then call clearGarden() and the garden will be rebuilt from ground up."),Object(esm.mdx)("p",null,'so a general rule if you need to get the items in the garden to update their "look and feel", you would want to run this.\nThis does not need to be done for column changes, that is handled properly.'),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"const gardenController = React.useRef(null);\n//Pass gardenController to Garden component in the provideController prop\ngardenController.current.clearGarden();\n")),Object(esm.mdx)("h3",{id:"backgroundcolor"},"backgroundColor"),Object(esm.mdx)("p",null,"Background color of the garden Defaults to white(16777215)"),Object(esm.mdx)("h3",{id:"renderitemcontext"},"renderItemContext"),Object(esm.mdx)("p",null,"A function that takes in the item object and context object.\nThe function will expand the context object by adding instruction for how items in the garden should be constructed."),Object(esm.mdx)("p",null,"Recommend looking at the ItemRenderContext model, to see your options here."),Object(esm.mdx)("p",null,"This is will quickly become a complex function and will be explored in its own section below."),Object(esm.mdx)("h3",{id:"renderheadercontext"},"renderHeaderContext"),Object(esm.mdx)("p",null,"Similar to renderItemContext.\nTakes in a key and context.\nThe key will be the column key that the header will represent.\nContext will in similar fashion as renderItemContext be extended to dictated how the header looks."),Object(esm.mdx)("p",null,"Recommend looking at the HeaderRenderContext model, to see your options here."),Object(esm.mdx)("p",null,"This is will quickly become a complex function and will be explored in its own section below."),Object(esm.mdx)("h2",{id:"creating-our-own-hanging-garden"},"Creating our own Hanging Garden"),Object(esm.mdx)("p",null,"While the Hanging Garden component does a lot of the heavy lifting in terms of how and when the garden renders.\nOr how to interact with the underlying PIXI.js engine.\nIt still requires quite a few inputs to get it working properly."),Object(esm.mdx)("p",null,"This sections will guide us though how to make a similar garden as the one in the example on top.\nWhile also talking about some more advanced features that is not used here."),Object(esm.mdx)("p",null,"Be aware that it will demand a decent time investment setting up a Hanging Garden from scratch."),Object(esm.mdx)("h3",{id:"getting-started---data-source"},"Getting Started - Data source"),Object(esm.mdx)("p",null,"First things first, we will need a data source.\nThe data can be what ever we need it to be, but we should be aware of its model.\nHanging Garden component is generic and takes in the model of the data we will be using."),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"<HangingGarden<T> {...props} />\n")),Object(esm.mdx)("p",null,"We will be working with GardenItems, giving us a implementations like this."),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"<HangingGarden<GardenItem> {...props} />\n")),Object(esm.mdx)("h3",{id:"creating-columns"},"Creating Columns"),Object(esm.mdx)("p",null,"Now that we have data and know what type of data we will be working with.\nWe can setup the columns structure."),Object(esm.mdx)("p",null,"This is all up to how its implemented.\nThe component has no recognition of how the columns are layed out, or how we sorted them.\nIts just want an array full off HangingGardenColumn objects."),Object(esm.mdx)("p",null,"in our example we will sort the data by year/week. Meaning each column represents a week in given year.\nThen we check a specific field in each item and place it accordingly."),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"export const getColumns = (data: GardenItem[]) => {\n  const highlightedKey = getYearAndWeekFromDate(new Date());\n\n  const newColumns =\n    data.reduce <\n    HangingGardenColumn <\n    GardenItem >\n    [] >\n    ((columns, item) => {\n      const key = getYearAndWeekFromDate(item.date);\n      const column = columns.findIndex((c) => c.key === key);\n      column >= 0 ? columns[column].data.push(item) : columns.push({ key, data: [{ ...item }] });\n\n      return columns;\n    },\n    []).map((column) => ({\n      ...column,\n      data: column.data.sort((a, b) => getStateOrder(a.state) - getStateOrder(b.state)),\n    }));\n\n  const highlightedKeyIndex = newColumns.findIndex((c) => c.key === highlightedKey);\n  if (highlightedKey && highlightedKeyIndex === -1) {\n    newColumns.push({ key: highlightedKey, data: [] });\n  }\n\n  return newColumns.sort(({ key: a }, { key: b }) => a.localeCompare(b));\n};\n")),Object(esm.mdx)("p",null,"This function takes in all the data we have, then reduces the data into our columns array.\nIt find our key by getting back the key name from getYearAndWeekFromDate (example 2020/48).\nThen decides if the column exists or not. If it exists we push the package into the data array.\nElse we create a new object with this key and the item into the data property."),Object(esm.mdx)("p",null,"When that is done we have our columns that are technically ready to be sent into the Garden.\nbut we do a couple more things to the array.\nFirst we check if the column we have as highlightedColumn exists, if not we add it. (this is not mandatory)"),Object(esm.mdx)("p",null,"Then we sort the array, so earlier weeks comes first"),Object(esm.mdx)("p",null,"The Garden will not add, remove, sort or manipulate data in anyway on its own.\nSo make sure all is in order before sending it in.\nSorting the Items withing each columns is also something one should consider."),Object(esm.mdx)("h4",{id:"highlightedcolumnkey-1"},"highlightedColumnKey"),Object(esm.mdx)("p",null,"This is a good time to setup our highlightedColumn key if we want to use one.\nOur example uses the current week as a highlighted column as shown above.\nYou want to make sure that this key string is also sent in to the garden."),Object(esm.mdx)("h3",{id:"creating-headers"},"Creating headers"),Object(esm.mdx)("p",null,"before creating our header, we should consider our header height.\nWe might not now how big it should be.\nDo we need to calculate it or is it static ?",Object(esm.mdx)("br",{parentName:"p"}),"\n","In our example its a static 40.\nThis we can easily change if we see that its not the correct size later."),Object(esm.mdx)("h4",{id:"renderheadercontext-1"},"renderHeaderContext"),Object(esm.mdx)("p",null,"create a new function with a signature like this."),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"  const renderHeader = (key: string, context: HeaderRenderContext) => void\n")),Object(esm.mdx)("p",null,"Each column in columns will run this function and be added to the Garden as a Header with the instructions applied.\nIn our example it looks as follows"),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"const renderHeader = (key: string, context: HeaderRenderContext) => {\n  const textNode = context.createTextNode(\n    context.isExpanded ? key + ' Expanded' || 'NA Expanded' : key || 'NA',\n    context.isHighlighted ? 0xffffff : 0x212121\n  );\n\n  context.container.addChild(textNode);\n  textNode.x = context.width / 2 - textNode.width / 2;\n  textNode.y = textNode.height / 2;\n};\n")),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre"},"createTextNode:\nfunction that takes 2 arguments.\nString => text we want in our header.\nColor => color of the text\nreturns an object that can be added to the garden.\n")),Object(esm.mdx)("p",null,"We create a textNode and send in the text we want.\ncontext.isExpanded is supplied by the context. Telling us if this column is in the expanded state.\nGiving us an opportunity to change the text based on the expanded state.\nThe same goes for context.isHighlighted. We changes text color based on its state.\nHighlighted is dark green, so we want white text."),Object(esm.mdx)("p",null,"We then add our textNode to the container.\nThe container is the column created for the Garden.\nIf the node is not added as a child it will not show up."),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"context.container.addChild(textNode);\ntextNode.x = context.width / 2 - textNode.width / 2;\ntextNode.y = textNode.height / 2;\n")),Object(esm.mdx)("p",null,"The next two lines we adjust the placement of the text inside our header.\nMaking it centered both vertical and horizontal.\nwe use the context.width here. This is the width if our header.\nThere is also context.height for header height."),Object(esm.mdx)("h4",{id:"advanced-headers"},"Advanced Headers"),Object(esm.mdx)("p",null,"We are free to add children to the context container at this point.\nWe can create another textNode with context.CreateTextNode and add that.\nJust be aware of the placement of the node."),Object(esm.mdx)("p",null,"We can also add graphics.",Object(esm.mdx)("br",{parentName:"p"}),"\n","On the context we will find context.graphics.\nThis is the PIXI.Graphics object. It gives us a lot of freedom to create shapes and color in our header.\nIt would be advisable to look up the documentation for PIXI if you see the need for this."),Object(esm.mdx)("p",null,"a quick example for this"),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"context.graphics.beginFill(0xffffff);\ncontext.graphics.drawRoundedRect(0, context.height - 5, context.width, 5, 4);\ncontext.graphics.endFill();\n")),Object(esm.mdx)("p",null,"This will draw a green line though our header.\nBeginFill to chose color, start the drawing.\ndrawRoundedRect is a rectangle with rounded corner. We then add its coordinates inside the header as arguments.\nwhere 0,0 is top left. Last argument is radius (rounded corner degree).\nThis can for example be used to create a progress bar effect."),Object(esm.mdx)("h3",{id:"creating-item"},"Creating item"),Object(esm.mdx)("p",null,"Moving on to the items that will fill each column.\nBefore starting we should consider a few properties.\nWhat is our itemKeyProp. This needs to be a key in our item model.\npreferably something unique.\nThen the itemHeight and itemWidth. but again these can be easily adjusted if we see the need."),Object(esm.mdx)("h4",{id:"renderitemcontext-1"},"renderItemContext"),Object(esm.mdx)("p",null,"We again need to create a function similar to renderHeaderContext.\nThis functions receives the item current item and a context.\ncontext has similarities with the header context but is not the same."),Object(esm.mdx)("p",null,"to start of our we items we need to create the rectangle."),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"context.createRect({ x: 0, y: 0 }, { width: context.width, height: context.height }, getStateColorHex(item.state));\n")),Object(esm.mdx)("p",null,"createRect creates the rectangle for us. it takes in a position, size and background color.\nWe here set the position to be top left. and use the full height and width off our container.\nIn most circumstance, this is how we would set this up.\nthe last argument is color. We here have a function getStateColorHex that returns the items status.\nWe then have an array with different colors based on the items status.\nLogic like we use here to get color is all up to us to create as we see fit.\nbut as with header, this code will run once per item in our garden."),Object(esm.mdx)("p",null,"Next we need to set up the context.enquedRender.\nThis function takes in a string, this is used as an identifier. Preferably unique.\nThen it takes a functions which will received the context object."),Object(esm.mdx)("p",null,"In this function we will draw everything we need onto our item."),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"context.enquedRender(item.id, (context) => {\n  const textNode = context.createTextNode(item.id, item.state === 'closed' ? 0xffffff : 0x212121);\n  context.graphics.addChild(textNode);\n  textNode.x = 20;\n  textNode.y = context.height / 2 - textNode.height / 2;\n});\n")),Object(esm.mdx)("p",null,"This is very similar to how we added text to to the header. Remark that we added the child to graphics here.\nWe here set the gardenitem id as text onto the item, then center it.\nwe also choose a text color based on status."),Object(esm.mdx)("p",null,"This is all that is needed to create an item. And our simple garden is now complete."),Object(esm.mdx)("h4",{id:"advanced-items"},"Advanced items"),Object(esm.mdx)("p",null,"We still have the same advanced options in the items as in th header.\nInside enquedRender we can create multiple textNodes and graphics.\nDrawing graphics can be done in the same format as before."),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"context.graphics.beginFill(0xffffff);\ncontext.graphics.drawRoundedRect(0, context.height - 5, context.width, 5, 4);\ncontext.graphics.endFill();\n")),Object(esm.mdx)("p",null,"The ItemRenderContext has a few functions that we have not discussed.\nThis is some built in functionality and graphics.\nThese are used outside of the context.enquedRender function."),Object(esm.mdx)("h5",{id:"contextadddot"},"context.addDot"),Object(esm.mdx)("p",null,"This is a function that will draw a rounded dot indicator on the item.\nit takes in a color and position.\nIn our example :"),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"context.addDot(0xffffff, { x: context.width - 12, y: 8 });\n")),Object(esm.mdx)("p",null,"In this example we will just add a withe dot to the top right corner.\nYou can Add as many dots as you need.\nJust add multiple lines of context.addDot."),Object(esm.mdx)("h5",{id:"contextaddpopover"},"context.addPopover"),Object(esm.mdx)("p",null,"This function is a hover effect for our item.\nIt takes in a hit area and a function that returns the component we want to show."),Object(esm.mdx)("p",null,"The hit are will need to be a PIXI shape. In most cases a rectangle will be a good fit.\nIn our example:"),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",{parentName:"pre",className:"language-jsx"},"context.addPopover(new PIXI.Rectangle(0, 0, context.width / 2, context.height), () => (\n  <ProjectPopover text={`Left hover for item ${item.id}`} />\n));\n\ncontext.addPopover(new PIXI.Rectangle(context.width / 2, 0, context.width / 2, context.height), () => (\n  <ProjectPopover text={`Right hover for item ${item.id}`} />\n));\n")),Object(esm.mdx)("p",null,"We create a PIXI.Rectangle. The rectangle takes in its arguments that decides it placement and size.\nIn this example we have added to popovers.",Object(esm.mdx)("br",{parentName:"p"}),"\n","Each covers half of each side of the item. Giving you different popover depending on where you hover on the item.\nThe component is just any React component. We can make this anyway we like.\nbut it is still a hover and we will not be able to interact with it."),Object(esm.mdx)("h3",{id:"some-useful-hooks"},"Some useful hooks"),Object(esm.mdx)("p",null,"The Garden component comes with some hooks that can be useful.\nThese are not implemented in the garden in anyway, but can be used if found helpful."),Object(esm.mdx)("h4",{id:"usehanginggardendata"},"useHangingGardenData"),Object(esm.mdx)("p",null,"This hooks fetches data based on a supplied callback.\nIt also has built in functionality for cache invalidation and refetch data.\nThat includes handling cache age.\nThis is used in many Garden to give the user an indication of how old the data is.\nAlso the ability to update the cache at will."),Object(esm.mdx)("h4",{id:"usehanginggardenerrormessage"},"useHangingGardenErrorMessage"),Object(esm.mdx)("p",null,'This hook work well along side the useHangingGardenData hook.\nIt take care of all know error or replies that can comeback from typical Hanging Garden endpoints.\nThe returned error from useHangingGardenData can be feed directly into the this hook.\nAn errorMessage object will then be created, that again can be directly used by the default errorMessage component.\nNo manual error check needs to be done. The hook handles this also. If there is no error, the errorMessage object will be flagged as such.\nHandles errors are typical no data and "catch all" error.\nbut also more garden typical errors for noCache and no access.'))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var hangingGarden=Object(blocks.assertIsFn)(hanging_garden_stories_Garden);hangingGarden.storyName="Hanging Garden",hangingGarden.args={rows:5e3,height:500},hangingGarden.parameters={storySource:{source:"Garden"}};var componentMeta={title:"Hanging Garden",component:demo_GardenDemo,includeStories:["hangingGarden"]},mdxStoryNameToKey={"Hanging Garden":"hangingGarden"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.mdx)(blocks.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(esm.mdx)(MDXContent,null))}});__webpack_exports__.default=componentMeta},1233:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SortableTable",(function(){return SortableTable})),__webpack_require__.d(__webpack_exports__,"GroupedSortableTable",(function(){return GroupedSortableTable}));__webpack_require__(4),__webpack_require__(273),__webpack_require__(281),__webpack_require__(25),__webpack_require__(20),__webpack_require__(16),__webpack_require__(5),__webpack_require__(9),__webpack_require__(8),__webpack_require__(19),__webpack_require__(14),__webpack_require__(13),__webpack_require__(17),__webpack_require__(28),__webpack_require__(10),__webpack_require__(6);var jsx_runtime=__webpack_require__(22),react_table=__webpack_require__(341),dist=__webpack_require__(33),react=__webpack_require__(0),useStyle=Object(dist.c)((function(theme){return Object(dist.b)({root:Object.assign({display:"flex",justifyContent:"space-between",alignItems:"center"},theme.typography.table.cell_header.style)})}),{name:"fusion-table-header"}),ColumnHeader_createHeader=function createHeader(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"table";return function(column){return Object.assign(Object.assign({},column),{Header:function Header(args){return Object(jsx_runtime.jsx)(ColumnHeader_FusionColumnHeader,Object.assign({},args,{type:type},{children:Object(jsx_runtime.jsx)("span",{children:column.Header},void 0)}),void 0)}})}},createHeaders=function createHeaders(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"table";return function(columns){var ctor=ColumnHeader_createHeader(type);return columns.map((function(column){var _a;return column.columns?Object.assign(Object.assign({},column),{columns:null===(_a=column.columns)||void 0===_a?void 0:_a.map(ctor)}):ctor(column)}))}},ColumnHeader_FusionColumnHeader=function FusionColumnHeader(args){var column=args.column,children=args.children,sort=(args.type,args.classes,!!column.getSortByToggleProps),attr=sort?column.getHeaderProps(column.getSortByToggleProps()):column.getHeaderProps(),styles=useStyle();return Object(jsx_runtime.jsxs)("div",Object.assign({},attr,{className:styles.root},{children:[children,sort&&Object(jsx_runtime.jsx)("span",{children:column.isSorted?column.isSortedDesc?"":"":""},void 0)]}),void 0)};function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var defaultStyleProps={spacing:"small"},useStyles=Object(dist.c)((function(theme){return Object(dist.b)({root:Object.assign(Object.assign({},theme.typography.table.cell_text.style),{borderCollapse:"collapse"}),thead:{background:theme.colors.interactive.table__header__fill_resting.value.hex,borderBottom:"2px solid ".concat(theme.colors.ui.background__medium.value.hex),"& th:hover":{background:theme.colors.interactive.table__header__fill_hover.value.rgba}},cell:function cell(_ref){var spacing=_ref.spacing;return Object.assign({},theme.spacing.comfortable[spacing].style)},row:{borderBottom:"1px solid ".concat(theme.colors.ui.background__medium.value.hex),"&:hover":{background:theme.colors.interactive.table__cell__fill_hover.value.rgba}}})}),{name:"fusion-table"}),Table_FusionTable=function FusionTable(props){var data=props.data,sort=props.sort,_props$plugins=props.plugins,plugins=void 0===_props$plugins?[]:_props$plugins,_props$spacing=props.spacing,spacing=void 0===_props$spacing?"x_small":_props$spacing,style=props.style,className=props.className,styles=useStyles(Object.assign(Object.assign({},defaultStyleProps),{spacing:spacing}));sort&&plugins.push(react_table.useSortBy);var columns=function useTableHeaders(columns){var type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"table";return Object(react.useMemo)((function(){return createHeaders(type)(columns)}),[columns,type])}(props.columns,"table"),_useTable=react_table.useTable.apply(void 0,[{columns:columns,data:data}].concat(_toConsumableArray(plugins))),getTableProps=_useTable.getTableProps,getTableBodyProps=_useTable.getTableBodyProps,headerGroups=_useTable.headerGroups,rows=_useTable.rows,prepareRow=_useTable.prepareRow;return Object(jsx_runtime.jsxs)("table",Object.assign({},getTableProps(),{style:style,className:Object(dist.a)(styles.root,className)},{children:[Object(jsx_runtime.jsx)("thead",Object.assign({className:Object(dist.a)(styles.thead)},{children:headerGroups.map((function(headerGroup){return Object(jsx_runtime.jsx)("tr",Object.assign({},headerGroup.getHeaderGroupProps(),{children:headerGroup.headers.map((function(column){return Object(jsx_runtime.jsx)("th",Object.assign({},column.getHeaderProps(),{className:Object(dist.a)(styles.cell)},{children:column.render("Header")}),void 0)}))}),void 0)}))}),void 0),Object(jsx_runtime.jsx)("tbody",Object.assign({},getTableBodyProps(),{children:rows.map((function(row){return prepareRow(row),Object(jsx_runtime.jsx)("tr",Object.assign({},row.getRowProps(),{className:styles.row},{children:row.cells.map((function(cell){return Object(jsx_runtime.jsx)("td",Object.assign({},cell.getCellProps(),{className:Object(dist.a)(styles.cell)},{children:cell.render("Cell")}),void 0)}))}),void 0)}))}),void 0)]}),void 0)},table_data=__webpack_require__(342),table_stories_Template=(__webpack_exports__.default={title:"Table/Stories",component:Table_FusionTable},function Template(args){return Object(jsx_runtime.jsx)(Table_FusionTable,Object.assign({},args,{style:{width:"100%"}}))});table_stories_Template.displayName="Template";var SortableTable=table_stories_Template.bind({});SortableTable.args={data:table_data,columns:[{Header:"Name",accessor:"name"},{Header:"Address",accessor:"address"},{Header:"Date",accessor:"date"},{Header:"Order #",accessor:"order"}],sort:!0};var GroupedSortableTable=table_stories_Template.bind({});GroupedSortableTable.args={data:table_data,columns:[{Header:"User Info",columns:[{Header:"Name",accessor:"name"},{Header:"Address",accessor:"address"}]},{Header:"Order Info",columns:[{Header:"Date",accessor:"date"},{Header:"Order #",accessor:"order"}]}],sort:!0},SortableTable.parameters=Object.assign({storySource:{source:"(args) => <FusionTable {...args} style={{width: '100%'}} />"}},SortableTable.parameters),GroupedSortableTable.parameters=Object.assign({storySource:{source:"(args) => <FusionTable {...args} style={{width: '100%'}} />"}},GroupedSortableTable.parameters)},33:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return make_styles_makeStyles})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createStyles.a})),__webpack_require__.d(__webpack_exports__,"a",(function(){return clsx_m.a}));__webpack_require__(4);var makeStyles_makeStyles=__webpack_require__(1248),dist=__webpack_require__(514),make_styles_makeStyles=function makeStyles(stylesOrCreator){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(makeStyles_makeStyles.a)(stylesOrCreator,Object.assign({defaultTheme:dist.a},options))},createStyles=__webpack_require__(1247),clsx_m=__webpack_require__(513)},342:function(module){module.exports=JSON.parse('[{"name":"Kim Parrish","address":"4420 Valley Street, Garnerville, NY 10923","date":"07/11/2020","order":"87349585892118"},{"name":"Michele Castillo","address":"637 Kyle Street, Fullerton, NE 68638","date":"07/11/2020","order":"58418278790810"},{"name":"Eric Ferris","address":"906 Hart Country Lane, Toccoa, GA 30577","date":"07/10/2020","order":"81534454080477"},{"name":"Gloria Noble","address":"2403 Edgewood Avenue, Fresno, CA 93721","date":"07/09/2020","order":"20452221703743"},{"name":"Darren Daniels","address":"882 Hide A Way Road, Anaktuvuk Pass, AK 99721","date":"07/07/2020","order":"22906126785176"},{"name":"Ted McDonald","address":"796 Bryan Avenue, Minneapolis, MN 55406","date":"07/07/2020","order":"87574505851064"}]')},528:function(module,exports,__webpack_require__){__webpack_require__(529),__webpack_require__(771),__webpack_require__(772),__webpack_require__(935),__webpack_require__(1150),__webpack_require__(1183),__webpack_require__(1191),__webpack_require__(1196),__webpack_require__(1198),__webpack_require__(1210),__webpack_require__(1212),module.exports=__webpack_require__(1216)},650:function(module,exports){},772:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(396)}},[[528,1,2]]]);
//# sourceMappingURL=main.b5011ea1e12674660198.bundle.js.map